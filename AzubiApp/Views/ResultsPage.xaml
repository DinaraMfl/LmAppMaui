<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="AzubiApp.Views.ResultsPage"
             BackgroundColor="Black">
    <ScrollView>

        <VerticalStackLayout Padding="20">
  
        <Image x:Name="LogoImage" Source="logo_white.png" HeightRequest="50" WidthRequest="200" HorizontalOptions="Start" />
        <Label Text="Ergebnis" FontSize="38" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center" Margin="0,60,0,20"/>
      
        <!-- Label to display the total number of correct answers -->
        <Label x:Name="ScoreLabel" FontSize="18"  HorizontalOptions="Center" TextColor="White" Margin="20"/>

            <CollectionView ItemsSource="{Binding Results}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <Frame BorderColor="Black" Padding="10" Margin="5" BackgroundColor="Grey">
                            <VerticalStackLayout>
                                <toolkit:Expander>
                                    <toolkit:Expander.Header>
                                        <VerticalStackLayout Padding="5">
                                            <Grid ColumnDefinitions="*,Auto" VerticalOptions="Center">
                                                <!-- Text on the left -->
                                                <Label Grid.Column="0"
                                                   Text="{Binding QuestionText}"
                                                   FontAttributes="Bold"
                                                   TextColor="White"
                                                   VerticalTextAlignment="Center" />

                                                <!-- Dot on the right -->
                                                <Frame Grid.Column="1"
                                                   BackgroundColor="{Binding ResultColor}"
                                                   CornerRadius="50"
                                                   HeightRequest="10"
                                                   WidthRequest="10"
                                                   Margin="5,0"
                                                   VerticalOptions="Center"
                                                   HorizontalOptions="End" />
                                            </Grid>
                                        </VerticalStackLayout>
                                    </toolkit:Expander.Header>

                            <toolkit:Expander.Content>
                                        <VerticalStackLayout Padding="5">
                                            <Label Text="{Binding UserAnswerText}" TextColor="Black"/>
                                            <Label Text="{Binding CorrectAnswerText}" TextColor="Black" IsVisible="{Binding ShowCorrectAnswer}"/>
                                        </VerticalStackLayout>
                                    </toolkit:Expander.Content>
                                </toolkit:Expander>
                            </VerticalStackLayout>
                            </Frame>
                       
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        <Button Text="Zurück zum Start"
                BackgroundColor="#FFCD00"
                TextColor="Black"
                Clicked="OnBackToStartClicked"
                CornerRadius="18"
                FontSize="18"
                WidthRequest="200"
                Margin="0,20,0,0"/>
    </VerticalStackLayout>
    </ScrollView>

</ContentPage>
